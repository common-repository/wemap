!function(){"use strict";var e,t={698:function(){var e=window.wp.element,t=window.wp.blocks,n=window.wp.blockEditor,r=window.wp.components;function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var i=function e(t,n){function r(e,r,i){if("undefined"!=typeof document){"number"==typeof(i=o({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in i)i[l]&&(a+="; "+l,!0!==i[l]&&(a+="="+i[l].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+a}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var l=decodeURIComponent(i[0]);if(r[l]=t.read(a,l),e===l)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",o({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,o({},this.attributes,t))},withConverter:function(t){return e(o({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"}),a=i;(0,t.registerBlockType)("wemap/wemap",{attributes:{livemap_id:{type:"string",default:0}},edit:t=>{let{attributes:o,setAttributes:i}=t;const l=(0,n.useBlockProps)(),c=a.get("oauth2_token_wemap"),[u,p]=(0,e.useState)([{label:"loading",value:o.livemap_id}]);return void 0===c?(0,e.createElement)("div",l,"Please login first in Wemap plugin \\ login"):(1===u.length&&"loading"===u[0].label&&fetch("https://api.getwemap.com/v3.0/livemaps",{headers:{Authorization:"Bearer "+c,"Content-Type":"application/json"}}).then((e=>{e.json().then((e=>{var t=e.results.map((e=>({value:e.id,label:e.name})));p(t)}))})),(0,e.createElement)("div",l,(0,e.createElement)(r.SelectControl,{style:{height:"2.8em"},label:"livemap",value:o.livemap_id,options:u,onChange:e=>i({livemap_id:e})})))},save:t=>{let{attributes:r}=t;const o=n.useBlockProps.save(),i="https://livemap.getwemap.com/embed.html?emmid="+r.livemap_id+"&token=at531f17a59a88a4.07389212";return(0,e.createElement)("div",o,(0,e.createElement)("iframe",{width:"500",height:"500",src:i,"allow-script":!0,"allow-top-navigation":!0,allowfullscreen:!0,frameborder:"0"}))}})}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(p=0;p<e.length;p++){n=e[p][0],o=e[p][1],i=e[p][2];for(var l=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(l=!1,i<a&&(a=i));if(l){e.splice(p--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,o,i]},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],l=n[1],c=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(c)var p=c(r)}for(t&&t(n);u<a.length;u++)i=a[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(p)},n=self.webpackChunk=self.webpackChunk||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[431],(function(){return r(698)}));o=r.O(o)}();